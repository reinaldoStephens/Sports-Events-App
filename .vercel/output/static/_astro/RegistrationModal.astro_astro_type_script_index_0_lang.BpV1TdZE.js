import{a as n}from"./virtual.BIXjcra2.js";import"./client.B9YBqyHK.js";const d=document.querySelectorAll("form.register-form");d.forEach(e=>{e.addEventListener("submit",async i=>{i.preventDefault();const a=new FormData(e),t=e.querySelector(".error-message"),r=e.querySelector(".success-message"),s=e.querySelector('button[type="submit"]');t?.classList.add("hidden"),r?.classList.add("hidden"),s.disabled=!0,s.innerText="Registrando...";const o=await n.registerGuest(a);!o.error&&o.data?(r?.classList.remove("hidden"),e.reset(),typeof window.showToast=="function"&&window.showToast("¡Te has registrado exitosamente!","success"),setTimeout(()=>{e.closest("dialog")?.close(),s.disabled=!1,s.innerText="Confirmar Registro",r?.classList.add("hidden"),window.location.reload()},1500)):(t.textContent=o.error?.message||"Ocurrió un error.",t?.classList.remove("hidden"),s.disabled=!1,s.innerText="Confirmar Registro")})});
